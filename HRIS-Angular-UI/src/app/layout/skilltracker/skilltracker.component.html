<div class="reports-section" [@routerTransition]>
    <h6 class="text-muted-header"> Skill Tracker </h6>
    <div class="horizontal-pipe-line"></div>
    <div class="tabs-details-container">
        <div class="tabs-list">
            <ngb-tabset>
                <!-- SKILL TRACKER TAB START -->
                <ngb-tab>
                    <ng-template ngbTabTitle> Skill Tracker</ng-template> 
                    <ng-template ngbTabContent>
                        <div class="nav-link-column" >
                            <div class="nav-link-actions">
                                <div class="nav-link-box">
                                        <!-- Drop Down for Quarter -->
                                        <div class="row">
                                            <div class="col-12 col-sm-6 col-md-3">
                                                <label class="field-label">Evaluation  Quarter</label>
                                                <select class="form-control" (change)="onQuarterChange($event.target.value)">
                                                    <option *ngFor="let quarter of evaluationQrtr" value={{quarter}}>
                                                        {{quarter}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- PRIMARY SKILLS FORM/TABLE -->
                                        <div class="row">
                                            <!-- Primary Skill Table -->
                                            <div class="col-12 mt-3">
                                                <h5 class="aa-form-group-header">Resoursing Skill Set</h5>
                                                <table style="width:100%">
                                                    <thead>
                                                        <th>SL No</th>
                                                        <th>Skills</th>
                                                        <th>Matrix Score</th>
                                                        <th>Logivity Score</th>
                                                        <th>Experience Score</th>
                                                        <th>Skill Score</th>
                                                        <th>Evaluation</th>
                                                        <th>Last Evaluated On</th>
                                                    </thead>
                                                    <tbody>
                                                        <!-- THESE ROWS WILL BE CREATED FOR CURRENT QUARTER -->
                                                        <ng-container *ngIf="isCurrentQtr">
                                                            <tr *ngFor="let skills of skillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{skills.s_name}}</span> </td>
                                                                <td> 
                                                                    <select (change)="calculateSkillScore(i)" class="form-control" [(ngModel)]="skillDetails[i].matrix_score">
                                                                        <option *ngFor="let matrix of matrixScoreOption" value={{matrix.id}} [selected]="skills.matrix_score == matrix.id">
                                                                            {{matrix.name}}
                                                                        </option>
                                                                    </select>
                                                                </td>
                                                                <td>
                                                                    <select (change)="calculateSkillScore(i)" class="form-control" [(ngModel)]="skillDetails[i].longivity_score">
                                                                        <!-- <option>Select score</option> -->
                                                                        <option *ngFor="let longivity of longivityScoreOption" value={{longivity.id}} [selected]="skills.longivity_score == longivity.id">
                                                                            {{longivity.name}}
                                                                        </option>
                                                                    </select>
                                                                </td>
                                                                <td>
                                                                    <select (change)="calculateSkillScore(i)" class="form-control" [(ngModel)]="skillDetails[i].experience_score">
                                                                        <!-- <option>Select score</option> -->
                                                                        <option *ngFor="let exp of experienceScoreOption" value={{exp.id}} [selected]="skills.experience_score == exp.id">
                                                                            {{exp.name}}
                                                                        </option>
                                                                    </select>
                                                                </td>
                                                                <td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>
                                                                <td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                            </tr>
                                                        </ng-container>

                                                        <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                        <ng-container *ngIf="!isCurrentQtr">
                                                            <tr *ngFor="let skills of skillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{skills.s_name}}</span> </td>
                                                                <td> <span>{{skills.matrix_score}}</span></td>
                                                                <td> <span>{{skills.longivity_score}}</span></td>
                                                                <td> <span>{{skills.experience_score}}</span></td>
                                                                <td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>
                                                                <td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                            </tr>
                                                        </ng-container>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!-- Primary Skill Buttons -->
                                            <div class="col-12 mt-3 text-center" *ngIf="isCurrentQtr">
                                                <button type="button" class="btn btn-success" (click)="onSubmit(1)">Submit</button>
                                            </div>
                                        </div>


                                        <!-- Horizon3 Skill Add -->
                                        <div class="row mt-3">
                                            <div class="col-12">
                                                <h5 class="aa-form-group-header"> Horizon Skill Set
                                                    <button type="button" class="btn btn-primary btn-sm" (click)="openModalDialog()" *ngIf="isCurrentQtr">Add Skills</button>
                                                </h5>
                                                <div class="backdrop" [ngStyle]="{'display':display}"></div>
                                            </div>
                                        </div>
                                        <!-- Horizon3 Skill Table -->
                                        <div class="row">
                                            <div class="col-12 mt-3" *ngIf="horizonSkillDetails.length > 0">
                                                <table style="width:100%">
                                                    <thead>
                                                        <th>Sl No</th>
                                                        <th>Skills</th>
                                                        <th>Skill Score</th>
                                                        <th>Evaluated</th>
                                                        <th>Last Evaluated On</th>
                                                    </thead>
                                                    <tbody>
                                                        <!-- THESE ROWS WILL BE CREATED FOR CURRENT QUARTER -->
                                                        <ng-container *ngIf="isCurrentQtr">
                                                            <tr *ngFor="let skills of horizonSkillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{skills.s_name}}</span> </td>
                                                                <td> 
                                                                    <select class="form-control" [(ngModel)]="horizonSkillDetails[i].skill_score">
                                                                        <option>Select score</option>
                                                                        <option *ngFor="let score of horizonSkillScoreOption" value={{score.id}} [selected]="skills.skill_score == score.id">
                                                                            {{score.name}}
                                                                        </option>
                                                                    </select>
                                                                </td>
                                                                <td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                            </tr>
                                                        </ng-container>

                                                        <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                        <ng-container *ngIf="!isCurrentQtr">
                                                            <tr *ngFor="let skills of horizonSkillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{skills.s_name}}</span> </td>
                                                                <ng-container [ngSwitch]="skills.skill_score">
                                                                    <td *ngSwitchCase="1"> <span>Beginner</span></td>
                                                                    <td *ngSwitchCase="2"> <span>Intermediate</span></td>
                                                                    <td *ngSwitchCase="3"> <span>Advanced</span></td>
                                                                </ng-container>
                                                                <td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                            </tr>
                                                        </ng-container>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!-- Horizon3 Skill Buttons -->
                                            <div class="col-12 mt-3 text-center" *ngIf="horizonSkillDetails.length > 0 && isCurrentQtr">
                                                <button type="button" class="btn btn-success" (click)="onSubmit(2)">Submit</button>
                                            </div>
                                        </div>

                                </div>
                            </div>
                        </div>
                    </ng-template>
                </ngb-tab>
                <!-- SKILL TRACKER TAB END -->
                <!-- APPROVAL TAB START -->
                <ngb-tab *ngIf="role==1">
                        <ng-template ngbTabTitle> <span (click)="prepareApprovalTab()">Approval</span></ng-template> 
                        <ng-template ngbTabContent>
                            <div class="nav-link-column" >
                                <div class="nav-link-actions">
                                    <div class="nav-link-box">
                                            <!-- Drop Down for Quarters & Employee -->
                                            <div class="row">
                                                <div class="col-12 col-sm-4 col-md-3">
                                                    <label class="field-label">Evaluation  Quarter</label>
                                                    <select class="form-control" [(ngModel)]="approvalQtr" >
                                                        <option *ngFor="let quarter of evaluationQrtr" value={{quarter}}>
                                                            {{quarter}}
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col-12 col-sm-4 col-md-3">
                                                    <label class="field-label">Employee</label>
                                                    <select class="form-control" [(ngModel)]="approvalEmployeeId">
                                                        <option value="0">Select Employee ID</option>
                                                        <option *ngFor="let emp of employeeList" value={{emp.Employee_Id}}>
                                                            {{emp.Employee_Id}} - {{emp.Employee_Name}}
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col-12 col-sm-4 col-md-3">
                                                    <br>
                                                    <button type="button" class="btn btn-primary" (click)="getApprovalData()">Show</button>
                                                </div>
                                            </div>
                                            <!-- Primary Skill Table -->
                                            <div class="row">
                                                <div class="col-12 mt-3">
                                                    <h5 class="aa-form-group-header">Resoursing Skill Set</h5>
                                                    <table style="width:100%">
                                                        <thead>
                                                            <th>SL No</th>
                                                            <th>Skills</th>
                                                            <th>Matrix Score</th>
                                                            <th>Logivity Score</th>
                                                            <th>Experience Score</th>
                                                            <th>Skill Score</th>
                                                            <th>Evaluation</th>
                                                            <th>Evaluated By</th>
                                                            <th>Last Evaluated On</th>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container *ngIf="isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalSkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> 
                                                                        <select (change)="calculateApprovalSkillScore(i)" class="form-control" [(ngModel)]="approvalSkillDetails[i].matrix_score">
                                                                            <!-- <option>Select score</option> -->
                                                                            <option *ngFor="let matrix of matrixScoreOption" value={{matrix.id}} [selected]="skills.matrix_score == matrix.id">
                                                                                {{matrix.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select (change)="calculateApprovalSkillScore(i)" class="form-control" [(ngModel)]="approvalSkillDetails[i].longivity_score">
                                                                            <!-- <option>Select score</option> -->
                                                                            <option *ngFor="let longivity of longivityScoreOption" value={{longivity.id}} [selected]="skills.longivity_score == longivity.id">
                                                                                {{longivity.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select (change)="calculateApprovalSkillScore(i)" class="form-control" [(ngModel)]="approvalSkillDetails[i].experience_score">
                                                                            <!-- <option>Select score</option> -->
                                                                            <option *ngFor="let exp of experienceScoreOption" value={{exp.id}} [selected]="skills.experience_score == exp.id">
                                                                                {{exp.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>
                                                                    <td>
                                                                        <select class="form-control" [(ngModel)]="approvalSkillDetails[i].evaluated">
                                                                            <!-- <option>Select score</option> -->
                                                                            <option *ngFor="let eval of evaluationStatusOption" value={{eval.id}} [selected]="skills.evaluated == eval.id">
                                                                                {{eval.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on }}</span> </td>
                                                                </tr>
                                                            </ng-container>

                                                            <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                            <ng-container *ngIf="!isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalSkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> <span>{{skills.matrix_score}}</span></td>
                                                                    <td> <span>{{skills.longivity_score}}</span></td>
                                                                    <td> <span>{{skills.experience_score}}</span></td>
                                                                    <td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>
                                                                    <td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>

                                                <!-- Primary Skill Approve Button  -->
                                                <div class="col-12 mt-3 text-center" *ngIf="isApprovalCurrentQtr">
                                                    <button type="button" class="btn btn-success" (click)="saveApprovalData(1)">Submit</button>
                                                </div>
                                            </div>

                                            <!-- Horizon3 Skill Table -->
                                            <div class="row mt-3">
                                                <div class="col-12 mt-3">
                                                    <h5 class="aa-form-group-header"> Horizon Skill Set </h5>
                                                    <table style="width:100%">
                                                        <thead>
                                                            <th>SL No</th>
                                                            <th>Skills</th>
                                                            <th>Skill Score</th>
                                                            <th>Evaluation</th>
                                                            <th>Evaluated By</th>
                                                            <th>Last Evaluated On</th>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container *ngIf="isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalHorizon3SkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> 
                                                                        <select class="form-control" [(ngModel)]="approvalHorizon3SkillDetails[i].skill_score">
                                                                            <option *ngFor="let score of horizonSkillScoreOption" value={{score.id}} [selected]="skills.skill_score == score.id">
                                                                                {{score.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select class="form-control" [(ngModel)]="approvalHorizon3SkillDetails[i].evaluated">
                                                                            <!-- <option>Select score</option> -->
                                                                            <option *ngFor="let eval of evaluationStatusOption" value={{eval.id}} [selected]="skills.evaluated == eval.id">
                                                                                {{eval.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on }}</span> </td>
                                                                </tr>
                                                            </ng-container>

                                                            <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                            <ng-container *ngIf="!isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalHorizon3SkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <ng-container [ngSwitch]="skills.skill_score">
                                                                        <td *ngSwitchCase="1"> <span>Beginner</span></td>
                                                                        <td *ngSwitchCase="2"> <span>Intermediate</span></td>
                                                                        <td *ngSwitchCase="3"> <span>Advanced</span></td>
                                                                    </ng-container>
                                                                    <td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            
                                                <div class="col-12 mt-3 text-center" *ngIf="isApprovalCurrentQtr">
                                                    <button type="button" class="btn btn-success" (click)="saveApprovalData(2)">Submit</button>
                                                </div>
                                            </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                </ngb-tab>
                <!-- APPROVAL TAB END -->
                <!-- REPORT TAB START -->
                <ngb-tab *ngIf="role==1">
                        <ng-template ngbTabTitle> <span (click)="prepareReportTab()">Reports</span></ng-template> 
                        <ng-template ngbTabContent>
                            <div class="nav-link-column" >
                                <div class="nav-link-actions">
                                    <div class="nav-link-box">
                                        <!-- Drop Down for Reports -->
                                        <div class="row">
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Reports</label>
                                                <select class="form-control" [(ngModel)]="reportOption" (change)="changedReport()">
                                                    <option value="Primary">Resourcing</option>
                                                    <option value="Upskill">Upskilling</option>
                                                    <option value="Horizon3">Horizion3</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Drop Down for Primary Filters -->
                                        <div class="row">
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Primary'">
                                                <label class="field-label">Evaluation  Quarter</label>
                                                <select class="form-control" [(ngModel)]="reportQtr" >
                                                    <option *ngFor="let quarter of evaluationQrtr" value={{quarter}}>{{quarter}}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2">
                                                <label class="field-label">Designation</label>
                                                <select class="form-control" [(ngModel)]="reportDesignation" (change)="changedDesignation()">
                                                    <option value="0">Select Designation</option>
                                                    <optgroup *ngFor = 'let dept of designationList' label="{{dept.department}}">
                                                        <option *ngFor = 'let desig of dept.designation' [value]="desig.id">{{desig.name}}</option> 
                                                    </optgroup>
                                                    
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2">
                                                <label class="field-label">Skills</label>
                                                <select class="form-control" [(ngModel)]="reportSkill" (change)="changedSkill()">
                                                    <option value="0">Select Skills</option>
                                                    <option *ngFor="let skill of skillList" value={{skill.id}}>{{skill.name}}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2">
                                                <label class="field-label">Current Deployment</label>
                                                <select class="form-control" [(ngModel)]="reportDeployment" (change)="changedDeployment()">
                                                    <option value="-1">All</option>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Primary' || filterOption == 'Upskill'">
                                                <label class="field-label">Employee</label>
                                                <select class="form-control" [(ngModel)]="reportEmployeeId">
                                                    <option value="0">Select Employee ID</option>
                                                    <option *ngFor="let emp of reportEmployeeList" value={{emp.Employee_Id}}>
                                                        {{emp.Employee_Id}} - {{emp.Employee_Name}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Primary' || filterOption == 'Upskill'">
                                                <label class="field-label">Manager Evaluated</label>
                                                <select class="form-control" [(ngModel)]="reportEvaluated" >
                                                    <option value="-1">All</option>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Upskill'">
                                                <label class="field-label">Project Account</label>
                                                <select class="form-control" [(ngModel)]="reportProject" >
                                                    <option value="0">Select project</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Upskill'">
                                                <label class="field-label">People Manager</label>
                                                <select class="form-control" [(ngModel)]="reportPeopleManager" >
                                                    <option value="0">Select Manager</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Drop Down for Secondary Filters -->
                                        <div class="row">
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Primary' || filterOption == 'Upskill'">
                                                <label class="field-label">Matrix Score</label>
                                                <select class="form-control" [(ngModel)]="reportMatrixScore" >
                                                    <option *ngFor="let matrix of matrixScoreOption" value={{matrix.id}}>
                                                        {{matrix.name}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Primary' || filterOption == 'Upskill'">
                                                <label class="field-label">Regency Score</label>
                                                <select class="form-control" [(ngModel)]="reportLongivityScore" >
                                                    <option *ngFor="let long of longivityScoreOption" value={{long.id}}>
                                                        {{long.name}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Primary' || filterOption == 'Upskill'">
                                                <label class="field-label">Experience Score</label>
                                                <select class="form-control" [(ngModel)]="reportExperienceScore" >
                                                    <option *ngFor="let exp of experienceScoreOption" value={{exp.id}}>
                                                        {{exp.name}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-2" *ngIf="filterOption == 'Primary' || filterOption == 'Upskill'">
                                                <label class="field-label">Skill Score</label>
                                                <select class="form-control" [(ngModel)]="reportSkillScore" >
                                                    <option value="0">Select Score</option>
                                                    <option value="1">0 to 1</option>
                                                    <option value="2">1 to 2</option>
                                                    <option value="3">2 to 3</option>
                                                    <option value="4">3 to 4</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <br>
                                                <button type="button" class="btn btn-primary" (click)="getReport()">Generate</button>
                                            </div>
                                        </div>
                                        <!-- Report Chart -->
                                        <div class="row mt-5">
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="90%"
												height="350"
												type="Column3d"
												dataFormat="JSON"
												[dataSource]="resourceTotalChart"
												></fusioncharts>
                                        	</div>
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="90%"
												height="350"
												type="mscolumn3d"
												dataFormat="JSON"
												[dataSource]="resourceMatrixChart"
												></fusioncharts>
                                        	</div>
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="90%"
												height="350"
												type="mscolumn3d"
												dataFormat="JSON"
												[dataSource]="resourceLongivityChart"
												></fusioncharts>
                                        	</div>
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="90%"
												height="350"
												type="mscolumn3d"
												dataFormat="JSON"
												[dataSource]="resourceExperienceChart"
												></fusioncharts>
                                        	</div>
                                        </div>
                                        <!-- Report Table -->
                                        <div class="row mt-5">
                                            <div class="col-12 mt-3 table-responsive">
                                                <table style="width:100%">
                                                    <thead>
                                                        <th *ngFor="let col of reportColumns">{{col}}</th>
                                                        
                                                    </thead>
                                                    <tbody>
                                                        <ng-container *ngIf="reportOption == 'Primary'">
                                                            <tr *ngFor="let val of reportTable; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{val.Employee_Name}}</span> </td>
                                                                <td> <span>{{val.Employee_Id}}</span></td>
                                                                <td> <span>{{val.reporting_manager}}</span></td>
                                                                <td> <span>{{val.Designation_Name}}</span></td>
                                                                <td> <span>{{val.evaluation_qtr}}</span></td>
                                                                <td> <span>{{val.s_name}}</span></td>
                                                                <td> <span>{{val.matrix_score}}</span></td>
                                                                <td> <span>{{val.longivity_score}}</span></td>
                                                                <td> <span>{{val.experience_score}}</span></td>
                                                                <td> <span>{{val.skill_score}}</span></td>
                                                                <td> <span>{{val.evaluated?'Yes':'No'}}</span> </td>
                                                            </tr>
                                                        </ng-container>
                                                        <ng-container *ngIf="reportOption == 'Horizon3'">
                                                            <tr *ngFor="let val of reportTable; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{val.Employee_Name}}</span> </td>
                                                                <td> <span>{{val.Employee_Id}}</span></td>
                                                                <td> <span>{{val.reporting_manager}}</span></td>
                                                                <td> <span>{{val.Designation_Name}}</span></td>
                                                                <td> <span>{{val.evaluation_qtr}}</span></td>
                                                                <td> <span>{{val.s_name}}</span></td>
                                                                <ng-container [ngSwitch]="val.skill_score">
                                                                    <td *ngSwitchCase="1"> <span>Beginner</span></td>
                                                                    <td *ngSwitchCase="2"> <span>Intermediate</span></td>
                                                                    <td *ngSwitchCase="3"> <span>Advanced</span></td>
                                                                </ng-container>
                                                            </tr>
                                                        </ng-container>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>                                        
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                </ngb-tab>
                <!-- REPORT TAB END -->
            </ngb-tabset>
        </div>
    </div>
</div>

<!-- After clicking the button open the modal dialog using open/close event binding methods -->
<!-- modal -->
<div class="modal" tabindex="-1" role="dialog"  [ngStyle]="{'display':display}">
  <!-- modal-dialog -->
  <div class="modal-dialog" role="document">
    <!-- modal-content -->
    <div class="modal-content">
      <!-- modal-header -->
      <div class="modal-header">
        <h6 class="modal-title">Choose Horizon3 Skill</h6>
        <button type="button" class="close" aria-label="Close" (click)="closeModalDialog()"><span aria-hidden="true">&times;</span></button>
        <!-- <h4 class="modal-title">Login</h4> -->
      </div>

      <!-- modal-body -->
      <div class="modal-body">
        <form #secondaryskillform = "ngForm">
            <div class="row">
                <div class="col-12 col-sm-6" *ngFor="let skills of secondarySkillDetails; let i = index">
                    <input type="checkbox" class="form-control-inline" (change)="changeHorizonBox(skills.checked,i)" [(ngModel)]="skills.checked" [ngModelOptions]="{standalone: true}">&nbsp;{{skills.s_name}} 
                </div>
            </div>
         </form>
      </div>
    </div>
  </div>
</div>