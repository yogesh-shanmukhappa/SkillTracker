<div class="reports-section" [@routerTransition]>
    <h6 class="text-muted-header"> Skill Tracker </h6>
    <div class="horizontal-pipe-line"></div>
    <div class="tabs-details-container">
        <div class="tabs-list">
            <ngb-tabset>
                <!-- SKILL TRACKER TAB START -->
                <ngb-tab>
                    <ng-template ngbTabTitle> <span (click)="prepareSkillTrackerTab()">Skill Tracker</span></ng-template> 
                    <ng-template ngbTabContent>
                        <div class="nav-link-column" >
                            <div class="nav-link-actions">
                                <div class="nav-link-box">
                                		<!-- Drop Down for Quarter -->
                                        <div class="row">
                                            <div class="col-12 col-sm-6 col-md-3">
                                                <label class="field-label">Employee ID (temp)</label>
                                                <select class="form-control" (change)="employeeChange()" [(ngModel)]="employeeID">
                                                    <option value="EMP0001">EMP0001</option>
                                                    <option value="EMP0002">EMP0002</option>
                                                    <option value="EMP0003">EMP0003</option>
                                                    <option value="EMP0004">EMP0004</option>
                                                    <option value="EMP0005">EMP0005</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Drop Down for Quarter -->
                                        <div class="row">
                                            <div class="col-12 col-sm-6 col-md-3">
                                                <label class="field-label">Evaluation  Quarter</label>
                                                <select class="form-control" (change)="onQuarterChange($event.target.value)">
                                                    <option *ngFor="let quarter of evaluationQrtr" value={{quarter}}>
                                                        {{quarter}}
                                                    </option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- PRIMARY SKILLS FORM/TABLE -->
                                        <div class="row">
                                            <!-- Primary Skill Table -->
                                            <div class="col-12 mt-3">
                                                <h5 class="aa-form-group-header">Resoursing Skill Set</h5>
                                                <table style="width:100%">
                                                    <thead>
                                                        <th>SL No</th>
                                                        <th>Skills</th>
                                                        <th>Matrix Score</th>
                                                        <th>Recency Score</th>
                                                        <th>Experience Score</th>
                                                        <th>Skill Score</th>
                                                        <th>Evaluation</th>
                                                        <th>Last Evaluated On</th>
                                                        <th>Evaluated By</th>
                                                    </thead>
                                                    <tbody>
                                                        <!-- THESE ROWS WILL BE CREATED FOR CURRENT QUARTER -->
                                                        <ng-container *ngIf="isCurrentQtr">
                                                            <tr *ngFor="let skills of skillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{skills.s_name}}</span> </td>
                                                                <ng-container *ngIf="skills.evaluated == 1">
                                                                    <td> 
                                                                        <ng-container *ngFor="let matrix of matrixScoreOption">
                                                                            <span *ngIf="skills.matrix_score == matrix.id">{{matrix.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let recency of recencyScoreOption">
                                                                            <span *ngIf="skills.recency_score == recency.id">{{recency.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let experience of experienceScoreOption">
                                                                            <span *ngIf="skills.experience_score == experience.id">{{experience.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container *ngIf="skills.evaluated != 1">
                                                                    <td> 
                                                                        <select (change)="calculateSkillScore(i)" class="form-control" [(ngModel)]="skillDetails[i].matrix_score">
                                                                            <option value='0' selcted hidden="">- Select Score -</option>
                                                                            <option *ngFor="let matrix of matrixScoreOption" value={{matrix.id}} [selected]="skills.matrix_score == matrix.id">
                                                                                {{matrix.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select (change)="calculateSkillScore(i)" class="form-control" [(ngModel)]="skillDetails[i].recency_score">
                                                                            <option value='0' selcted hidden="">- Select Score -</option>
                                                                            <option *ngFor="let recency of recencyScoreOption" value={{recency.id}} [selected]="skills.recency_score == recency.id">
                                                                                {{recency.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select (change)="calculateSkillScore(i)" class="form-control" [(ngModel)]="skillDetails[i].experience_score">
                                                                            <option value='0' selcted hidden="">- Select Score -</option>
                                                                            <option *ngFor="let exp of experienceScoreOption" value={{exp.id}} [selected]="skills.experience_score == exp.id">
                                                                                {{exp.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                </ng-container>
                                                                <td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>
                                                                <ng-container [ngSwitch]="skills.evaluated">
                                                                    <td *ngSwitchCase="-1"> <span>Declined</span></td>
                                                                    <td *ngSwitchCase="0"> <span>Pending</span></td>
                                                                    <td *ngSwitchCase="1"> <span>Approved</span></td>
                                                                </ng-container>
                                                                <!--<td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>-->
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                <td> <span>{{skills.manager_name}}</span> </td>
                                                            </tr>
                                                        </ng-container>

                                                        <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                        <ng-container *ngIf="!isCurrentQtr">
                                                            <tr *ngFor="let skills of skillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{skills.s_name}}</span> </td>
                                                                <td> 
                                                                    <ng-container *ngFor="let matrix of matrixScoreOption">
                                                                        <span *ngIf="skills.matrix_score == matrix.id">{{matrix.name}}</span>
                                                                    </ng-container>
                                                                </td>
                                                                <td> 
                                                                    <ng-container *ngFor="let recency of recencyScoreOption">
                                                                        <span *ngIf="skills.recency_score == recency.id">{{recency.name}}</span>
                                                                    </ng-container>
                                                                </td>
                                                                <td> 
                                                                    <ng-container *ngFor="let experience of experienceScoreOption">
                                                                        <span *ngIf="skills.experience_score == experience.id">{{experience.name}}</span>
                                                                    </ng-container>
                                                                </td>
                                                                <!--<td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>-->
                                                                <ng-container [ngSwitch]="skills.evaluated">
                                                                    <td *ngSwitchCase="-1"> <span>Declined</span></td>
                                                                    <td *ngSwitchCase="0"> <span>Pending</span></td>
                                                                    <td *ngSwitchCase="1"> <span>Approved</span></td>
                                                                </ng-container>
                                                                <!--<td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>-->
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                <td> <span>{{skills.manager_name}}</span> </td>
                                                            </tr>
                                                        </ng-container>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!-- Primary Skill Buttons -->
                                            <div class="col-12 mt-3 text-center" *ngIf="isCurrentQtr">
                                                <button type="button" class="btn btn-success" (click)="onSubmit(1)">Submit</button>
                                            </div>
                                        </div>


                                        <!-- Horizon3 Skill Add -->
                                        <div class="row mt-3">
                                            <div class="col-12">
                                                <h5 class="aa-form-group-header"> Horizon Skill Set
                                                    <button type="button" class="btn btn-primary btn-sm" (click)="addHorizonSkillRow()" *ngIf="isCurrentQtr">Add Rows</button>
                                                </h5>
                                                <!--<div class="backdrop" [ngStyle]="{'display':display}"></div>-->
                                            </div>
                                            <div class="col-12"><small style="color:#f00"><b>No. of rows can be added is limited to the no. of Horizon3 skills</b></small></div>
                                        </div>
                                        <div class="row"></div>
                                        <!-- Horizon3 Skill Table -->
                                        <div class="row">
                                            <div class="col-12 mt-3" *ngIf="horizonSkillDetails.length > 0">
                                                <table style="width:100%">
                                                    <thead>
                                                        <th>Sl No</th>
                                                        <th>Skills</th>
                                                        <th>Skill Score</th>
                                                        <th>Evaluated</th>
                                                        <th>Last Evaluated On</th>
                                                        <th>Evaluated By</th>
                                                    </thead>
                                                    <tbody>
                                                        <!-- THESE ROWS WILL BE CREATED FOR CURRENT QUARTER -->
                                                        <ng-container *ngIf="isCurrentQtr">
                                                            <tr *ngFor="let skills of horizonSkillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <ng-container *ngIf="skills.evaluated == 1">
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let score of horizonSkillScoreOption">
                                                                            <span *ngIf="skills.skill_score == score.id">{{score.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container *ngIf="skills.evaluated != 1">
                                                                    <td> 
                                                                        <select class="form-control" [(ngModel)]="horizonSkillDetails[i].s_id">
                                                                            <option value="0">Select Skill</option>
                                                                            <option *ngFor="let skill of secondarySkillList" value={{skill.id}} [selected]="skills.s_id == skill.id">
                                                                                {{skill.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td> 
                                                                        <select class="form-control" [(ngModel)]="horizonSkillDetails[i].skill_score">
                                                                            <option value="0">Select score</option>
                                                                            <option *ngFor="let score of horizonSkillScoreOption" value={{score.id}} [selected]="skills.skill_score == score.id">
                                                                                {{score.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                </ng-container>
                                                                <!--<td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>-->
                                                                <ng-container [ngSwitch]="skills.evaluated">
                                                                    <td *ngSwitchCase="-1"> <span>Declined</span></td>
                                                                    <td *ngSwitchCase="0"> <span>Pending</span></td>
                                                                    <td *ngSwitchCase="1"> <span>Approved</span></td>
                                                                    <td *ngSwitchCase="2"> <span></span></td>
                                                                </ng-container>
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                <td> <span>{{skills.manager_name}}</span> </td>
                                                            </tr>
                                                        </ng-container>

                                                        <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                        <ng-container *ngIf="!isCurrentQtr">
                                                            <tr *ngFor="let skills of horizonSkillDetails; let i = index">
                                                                <td> <span>{{i+1}}</span> </td>
                                                                <td> <span>{{skills.s_name}}</span> </td>
                                                                <td> 
                                                                    <ng-container *ngFor="let score of horizonSkillScoreOption">
                                                                        <span *ngIf="skills.skill_score == score.id">{{score.name}}</span>
                                                                    </ng-container>
                                                                </td>
                                                                <ng-container [ngSwitch]="skills.evaluated">
                                                                    <td *ngSwitchCase="-1"> <span>Declined</span></td>
                                                                    <td *ngSwitchCase="0"> <span>Pending</span></td>
                                                                    <td *ngSwitchCase="1"> <span>Approved</span></td>
                                                                </ng-container>
                                                                <!--<td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>-->
                                                                <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                <td> <span>{{skills.manager_name}}</span> </td>
                                                            </tr>
                                                        </ng-container>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!-- Horizon3 Skill Buttons -->
                                            <div class="col-12 mt-3 text-center" *ngIf="horizonSkillDetails.length > 0 && isCurrentQtr">
                                                <button type="button" class="btn btn-success" (click)="onSubmit(2)">Submit</button>
                                            </div>
                                        </div>

                                </div>
                            </div>
                        </div>
                    </ng-template>
                </ngb-tab>
                <!-- SKILL TRACKER TAB END -->
                <!-- APPROVAL TAB START -->
                <ngb-tab *ngIf="role==4">
                        <ng-template ngbTabTitle> <span (click)="prepareApprovalTab()">Approval</span></ng-template> 
                        <ng-template ngbTabContent>
                            <div class="nav-link-column" >
                                <div class="nav-link-actions">
                                    <div class="nav-link-box">
                                            <!-- Drop Down for Quarters & Employee -->
                                            <div class="row">
                                                <div class="col-12 col-sm-4 col-md-3">
                                                    <label class="field-label">Evaluation  Quarter</label>
                                                    <select class="form-control" [(ngModel)]="approvalQtr" >
                                                        <option *ngFor="let quarter of evaluationQrtr" value={{quarter}}>
                                                            {{quarter}}
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col-12 col-sm-4 col-md-3">
                                                    <label class="field-label">Employee</label>
                                                    <select class="form-control" [(ngModel)]="approvalEmployeeId">
                                                        <option value="0">Select Employee ID</option>
                                                        <optgroup *ngFor = 'let cat of employeeList' label="{{cat.category}}">
                                                            <option *ngFor = 'let emp of cat.employees' [value]="emp.id">{{emp.name}}</option> 
                                                        </optgroup>
                                                    
                                                    </select>
                                                </div>
                                                <div class="col-12 col-sm-4 col-md-3">
                                                    <br>
                                                    <button type="button" class="btn btn-primary" (click)="getApprovalData()">Show</button>
                                                </div>
                                            </div>
                                            <!-- Primary Skill Table -->
                                            <div class="row">
                                                <div class="col-12 mt-3">
                                                    <h5 class="aa-form-group-header">Resoursing Skill Set</h5>
                                                    <table style="width:100%">
                                                        <thead>
                                                            <th>SL No</th>
                                                            <th>Skills</th>
                                                            <th>Matrix Score</th>
                                                            <th>Recency Score</th>
                                                            <th>Experience Score</th>
                                                            <th>Skill Score</th>
                                                            <th>Evaluation</th>
                                                            <th>Evaluated By</th>
                                                            <th>Last Evaluated On</th>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container *ngIf="isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalSkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let matrix of matrixScoreOption">
                                                                            <span *ngIf="skills.matrix_score == matrix.id">{{matrix.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let recency of recencyScoreOption">
                                                                            <span *ngIf="skills.recency_score == recency.id">{{recency.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let experience of experienceScoreOption">
                                                                            <span *ngIf="skills.experience_score == experience.id">{{experience.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <!--<td> 
                                                                        <select (change)="calculateApprovalSkillScore(i)" class="form-control" [(ngModel)]="approvalSkillDetails[i].matrix_score" readonly>
                                                                            <option value='0' selcted hidden="">- Select Score -</option>
                                                                            <option *ngFor="let matrix of matrixScoreOption" value={{matrix.id}} [selected]="skills.matrix_score == matrix.id">
                                                                                {{matrix.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select (change)="calculateApprovalSkillScore(i)" class="form-control" [(ngModel)]="approvalSkillDetails[i].recency_score">
                                                                            <option value='0' selcted hidden="">- Select Score -</option>
                                                                            <option *ngFor="let recency of recencyScoreOption" value={{recency.id}} [selected]="skills.recency_score == recency.id">
                                                                                {{recency.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td>
                                                                        <select (change)="calculateApprovalSkillScore(i)" class="form-control" [(ngModel)]="approvalSkillDetails[i].experience_score">
                                                                            <option value='0' selcted hidden="">- Select Score -</option>
                                                                            <option *ngFor="let exp of experienceScoreOption" value={{exp.id}} [selected]="skills.experience_score == exp.id">
                                                                                {{exp.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>-->
                                                                    <td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>
                                                                    <td>
                                                                        <select class="form-control" [(ngModel)]="approvalSkillDetails[i].evaluated">
                                                                            <!-- <option>Select score</option> -->
                                                                            <option *ngFor="let eval of evaluationStatusOption" value={{eval.id}} [selected]="skills.evaluated == eval.id">
                                                                                {{eval.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on }}</span> </td>
                                                                </tr>
                                                            </ng-container>

                                                            <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                            <ng-container *ngIf="!isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalSkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let matrix of matrixScoreOption">
                                                                            <span *ngIf="skills.matrix_score == matrix.id">{{matrix.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let recency of recencyScoreOption">
                                                                            <span *ngIf="skills.recency_score == recency.id">{{recency.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let experience of experienceScoreOption">
                                                                            <span *ngIf="skills.experience_score == experience.id">{{experience.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <td> <span>{{skills.skill_score | number: '1.2-2' }}</span> </td>
                                                                    <ng-container [ngSwitch]="skills.evaluated">
                                                                        <td *ngSwitchCase="-1"> <span>Declined</span></td>
                                                                        <td *ngSwitchCase="0"> <span>Pending</span></td>
                                                                        <td *ngSwitchCase="1"> <span>Approved</span></td>
                                                                    </ng-container>
                                                                    <!--<td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>-->
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>

                                                <!-- Primary Skill Approve Button  -->
                                                <div class="col-12 mt-3 text-center" *ngIf="isApprovalCurrentQtr">
                                                    <button type="button" class="btn btn-success" (click)="saveApprovalData(1)">Submit</button>
                                                </div>
                                            </div>

                                            <!-- Horizon3 Skill Table -->
                                            <div class="row mt-3">
                                                <div class="col-12 mt-3">
                                                    <h5 class="aa-form-group-header"> Horizon Skill Set </h5>
                                                    <table style="width:100%">
                                                        <thead>
                                                            <th>SL No</th>
                                                            <th>Skills</th>
                                                            <th>Skill Score</th>
                                                            <th>Evaluation</th>
                                                            <th>Evaluated By</th>
                                                            <th>Last Evaluated On</th>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container *ngIf="isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalHorizon3SkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let score of horizonSkillScoreOption">
                                                                            <span *ngIf="skills.skill_score == score.id">{{score.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <!--<td> 
                                                                        <select class="form-control" [(ngModel)]="approvalHorizon3SkillDetails[i].skill_score">
                                                                            <option *ngFor="let score of horizonSkillScoreOption" value={{score.id}} [selected]="skills.skill_score == score.id">
                                                                                {{score.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>-->
                                                                    <td>
                                                                        <select class="form-control" [(ngModel)]="approvalHorizon3SkillDetails[i].evaluated">
                                                                            <!-- <option>Select score</option> -->
                                                                            <option *ngFor="let eval of evaluationStatusOption" value={{eval.id}} [selected]="skills.evaluated == eval.id">
                                                                                {{eval.name}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on }}</span> </td>
                                                                </tr>
                                                            </ng-container>

                                                            <!-- THESE ROWS WILL BE CREATED FOR HISTORY QUARTER -->
                                                            <ng-container *ngIf="!isApprovalCurrentQtr">
                                                                <tr *ngFor="let skills of approvalHorizon3SkillDetails; let i = index">
                                                                    <td> <span>{{i+1}}</span> </td>
                                                                    <td> <span>{{skills.s_name}}</span> </td>
                                                                    <td> 
                                                                        <ng-container *ngFor="let score of horizonSkillScoreOption">
                                                                            <span *ngIf="skills.skill_score == score.id">{{score.name}}</span>
                                                                        </ng-container>
                                                                    </td>
                                                                    <!--<td> <span>{{skills.evaluated?'Yes':'No'}}</span> </td>-->
                                                                    <ng-container [ngSwitch]="skills.evaluated">
                                                                        <td *ngSwitchCase="-1"> <span>Declined</span></td>
                                                                        <td *ngSwitchCase="0"> <span>Pending</span></td>
                                                                        <td *ngSwitchCase="1"> <span>Approved</span></td>
                                                                    </ng-container>
                                                                    <td> <span>{{skills.manager_name }}</span> </td>
                                                                    <td> <span>{{skills.evaluated_on}}</span> </td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            
                                                <div class="col-12 mt-3 text-center" *ngIf="isApprovalCurrentQtr">
                                                    <button type="button" class="btn btn-success" (click)="saveApprovalData(2)">Submit</button>
                                                </div>
                                            </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                </ngb-tab>
                <!-- APPROVAL TAB END -->
                <!-- RESOURCING REPORT TAB START -->
                <ngb-tab *ngIf="role==4">
                        <ng-template ngbTabTitle> <span (click)="preparePrimaryReportTab()">Resourcing Report</span></ng-template> 
                        <ng-template ngbTabContent>
                            <div class="nav-link-column" >
                                <div class="nav-link-actions">
                                    <div class="nav-link-box">
                                        <!-- Drop Down for Qtr -->
                                        <div class="row">
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Evaluation  Quarter</label>
                                                <select class="form-control" [(ngModel)]="reportQtr" >
                                                    <option *ngFor="let quarter of evaluationQrtr" value={{quarter}}>{{quarter}}</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- Drop Down for Primary Filters -->
                                        <div class="row">
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Designation</label>
                                                <select class="form-control" [(ngModel)]="reportDesignation" (change)="changedDesignation()" multiple>
                                                    <optgroup *ngFor = 'let dept of designationList' label="{{dept.department}}">
                                                        <option *ngFor = 'let desig of dept.designation' [value]="desig.id">{{desig.name}}</option> 
                                                    </optgroup>
                                                </select>
                                            </div>
                                            
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Current Deployment</label>
                                                <select class="form-control" [(ngModel)]="reportDeployment" (change)="changedDeployment()" multiple>
                                                    <option value="Y">Yes</option>
                                                    <option value="N">No</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Manager Evaluated</label>
                                                <select class="form-control" [(ngModel)]="reportEvaluated" multiple>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Skills<sup class="text-danger"><b>*</b></sup></label>
                                                <select class="form-control" [(ngModel)]="reportSkill" (change)="changedSkill()">
                                                    <option value="0">Select Skill</option>
                                                    <option *ngFor="let skill of skillList" value={{skill.id}}>{{skill.name}}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Employee</label>
                                                <select class="form-control" [(ngModel)]="reportEmployeeId">
                                                    <option value="0">Select Employee ID</option>
                                                    <option *ngFor="let emp of reportEmployeeList" value={{emp.Employee_Id}}>
                                                        {{emp.Employee_Id}} - {{emp.Employee_Name}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Skill Score</label>
                                                <select class="form-control" [(ngModel)]="reportSkillScore" >
                                                    <option value="0">N/A</option>
                                                    <option value="1">0 to 1</option>
                                                    <option value="2">1 to 2</option>
                                                    <option value="3">2 to 3</option>
                                                    <option value="4">3 to 4</option>
                                                </select>
                                            </div>
                                            
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-12 text-center">
                                                <button type="button" class="btn btn-primary" [disabled]="reportButtonDisable ? 'disabled': null" (click)="getReport('Primary')">Generate</button>
                                            </div>
                                        </div>
                                        <!-- Report Chart for Resourcing -->
                                        <div class="row mt-5">
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="100%"
												height="350"
												type="Column2d"
												dataFormat="JSON"
												[dataSource]="resourceTotalChart"
												></fusioncharts>
                                        	</div>
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="100%"
												height="350"
												type="mscolumn2d"
												dataFormat="JSON"
												[dataSource]="resourceMatrixChart"
												></fusioncharts>
                                        	</div>
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="100%"
												height="350"
												type="mscolumn2d"
												dataFormat="JSON"
												[dataSource]="resourceRecencyChart"
												></fusioncharts>
                                        	</div>
                                        	<div class="col-12 col-md-6">
                                        		<fusioncharts
												width="100%"
												height="350"
												type="mscolumn2d"
												dataFormat="JSON"
												[dataSource]="resourceExperienceChart"
												></fusioncharts>
                                        	</div>
                                        </div>

                                        <!-- Report Table -->
                                        <div class="row mt-5">
                                            <div class="col-12 mt-3 table-responsive">
                                                <table style="width:100%">
                                                    <thead>
                                                        <th style="white-space: unset; width: 35px;">Sl No.</th>
                                                        <th style="white-space: unset">Employee Name</th>
                                                        <th style="white-space: unset">Employee Id</th>
                                                        <th style="white-space: unset">Delivery Manager</th>
                                                        <th style="white-space: unset">Designation</th>
                                                        <th style="white-space: unset; width: 80px">Evaluation Quarter</th>
                                                        <th style="white-space: unset">Skill</th>
                                                        <th style="white-space: unset;width: 50px">Matrix Score</th>
                                                        <th style="white-space: unset;width: 50px">Recency Score</th>
                                                        <th style="white-space: unset;width: 50px">Experience Score</th>
                                                        <th style="white-space: unset;width: 50px">Skill Score</th>
                                                        <th style="white-space: unset">Evaluated</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let val of reportTable; let i = index">
                                                            <td> <span>{{i+1}}</span> </td>
                                                            <td> <span>{{val.Employee_Name}}</span> </td>
                                                            <td> <span>{{val.Employee_Id}}</span></td>
                                                            <td> <span>{{val.reporting_manager}}</span></td>
                                                            <td> <span>{{val.Designation_Name}}</span></td>
                                                            <td> <span>{{val.evaluation_qtr}}</span></td>
                                                            <td> <span>{{val.s_name}}</span></td>
                                                            <td> <span>{{val.matrix_score}}</span></td>
                                                            <td> <span>{{val.recency_score}}</span></td>
                                                            <td> <span>{{val.experience_score}}</span></td>
                                                            <td> <span>{{val.skill_score}}</span></td>
                                                            <td> <span>{{val.evaluated?'Yes':'No'}}</span> </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>                                        
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                </ngb-tab>
                <!-- REPORT TAB END -->
                <!-- UPSKILL REPORT TAB START -->
                <ngb-tab *ngIf="role==4">
                        <ng-template ngbTabTitle> <span (click)="prepareUpskillReportTab()">Upskill Reports</span></ng-template> 
                        <ng-template ngbTabContent>
                            <div class="nav-link-column" >
                                <div class="nav-link-actions">
                                    <div class="nav-link-box">
                                        <!-- Drop Down for Primary Filters -->
                                        <div class="row">
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Skills<sup class="text-danger"><b>*</b></sup></label>
                                                <select class="form-control" [(ngModel)]="reportSkill" (change)="changedSkill()">
                                                    <option value="0">Select Skill</option>
                                                    <option *ngFor="let skill of skillList" value={{skill.id}}>{{skill.name}}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Designation</label>
                                                <select class="form-control" [(ngModel)]="reportDesignation" (change)="changedDesignation()" multiple>
                                                    <optgroup *ngFor = 'let dept of designationList' label="{{dept.department}}">
                                                        <option *ngFor = 'let desig of dept.designation' [value]="desig.id">{{desig.name}}</option> 
                                                    </optgroup>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Current Deployment</label>
                                                <select class="form-control" [(ngModel)]="reportDeployment" (change)="changedDeployment()" multiple>
                                                    <option value="Y">Yes</option>
                                                    <option value="N">No</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Manager Evaluated</label>
                                                <select class="form-control" [(ngModel)]="reportEvaluated" multiple>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Employee<sup class="text-danger"><b>*</b></sup></label>
                                                <select class="form-control" [(ngModel)]="reportEmployeeId" (change)="changedEmployee()">
                                                    <option value="0">Select Employee ID</option>
                                                    <option *ngFor="let emp of reportEmployeeList" value={{emp.Employee_Id}}>
                                                        {{emp.Employee_Id}} - {{emp.Employee_Name}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Project Account</label>
                                                <select class="form-control" [(ngModel)]="reportProject" >
                                                    <option value="0">Select project</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">People Manager</label>
                                                <select class="form-control" [(ngModel)]="reportPeopleManager" >
                                                    <option value="0">Select Manager</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Skill Score</label>
                                                <select class="form-control" [(ngModel)]="reportSkillScore" >
                                                    <option value="0">N/A</option>
                                                    <option value="1">0 to 1</option>
                                                    <option value="2">1 to 2</option>
                                                    <option value="3">2 to 3</option>
                                                    <option value="4">3 to 4</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-12 text-center">
                                                <button type="button" class="btn btn-primary" [disabled]="reportButtonDisable ? 'disabled': null" (click)="getReport('Upskill')">Generate</button>
                                            </div>
                                        </div>
                                       
                                        <!-- Report Chart for Resourcing -->
                                        <div class="row mt-5">
                                            <div class="col-12 col-md-6">
                                                <fusioncharts
                                                width="100%"
                                                height="350"
                                                type="msline"
                                                dataFormat="JSON"
                                                [dataSource]="upskillTrendChart"
                                                ></fusioncharts>
                                            </div>
                                            <div class="col-12 col-md-6">
                                                <fusioncharts
                                                width="100%"
                                                height="350"
                                                type="Column2d"
                                                dataFormat="JSON"
                                                [dataSource]="upskillIndividualChart"
                                                ></fusioncharts>
                                            </div>
                                        </div>

                                        <!-- Report Table -->
                                        <div class="row mt-5">
                                            <div class="col-12 mt-3 table-responsive">
                                                <table style="width:100%">
                                                    <thead>
                                                        <th style="white-space: unset; width: 35px;">Sl No.</th>
                                                        <th style="white-space: unset">Employee Name</th>
                                                        <th style="white-space: unset">Employee Id</th>
                                                        <th style="white-space: unset">Delivery Manager</th>
                                                        <th style="white-space: unset">Designation</th>
                                                        <th style="white-space: unset; width: 80px">Evaluation Quarter</th>
                                                        <th style="white-space: unset">Skill</th>
                                                        <th style="white-space: unset;width: 50px">Matrix Score</th>
                                                        <th style="white-space: unset;width: 50px">Recency Score</th>
                                                        <th style="white-space: unset;width: 50px">Experience Score</th>
                                                        <th style="white-space: unset;width: 50px">Skill Score</th>
                                                        <th style="white-space: unset">Evaluated</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let val of reportTable; let i = index">
                                                            <td> <span>{{i+1}}</span> </td>
                                                            <td> <span>{{val.Employee_Name}}</span> </td>
                                                            <td> <span>{{val.Employee_Id}}</span></td>
                                                            <td> <span>{{val.reporting_manager}}</span></td>
                                                            <td> <span>{{val.Designation_Name}}</span></td>
                                                            <td> <span>{{val.evaluation_qtr}}</span></td>
                                                            <td> <span>{{val.s_name}}</span></td>
                                                            <td> <span>{{val.matrix_score}}</span></td>
                                                            <td> <span>{{val.recency_score}}</span></td>
                                                            <td> <span>{{val.experience_score}}</span></td>
                                                            <td> <span>{{val.skill_score}}</span></td>
                                                            <td> <span>{{val.evaluated?'Yes':'No'}}</span> </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>                                        
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                </ngb-tab>
                <!-- UPSKILL REPORT TAB END -->
                <!-- HORIZON3 REPORT TAB START -->
                <ngb-tab *ngIf="role==4">
                        <ng-template ngbTabTitle> <span (click)="prepareHorizon3ReportTab()">Horizon3 Report</span></ng-template> 
                        <ng-template ngbTabContent>
                            <div class="nav-link-column" >
                                <div class="nav-link-actions">
                                    <div class="nav-link-box">
                                        <!-- Drop Down for Filters -->
                                        <div class="row">
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Evaluation  Quarter</label>
                                                <select class="form-control" [(ngModel)]="reportQtr" >
                                                    <option *ngFor="let quarter of evaluationQrtr" value={{quarter}}>{{quarter}}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Skills<sup class="text-danger"><b>*</b></sup></label>
                                                <select class="form-control" [(ngModel)]="reportSkill" (change)="changedSkill()" multiple>
                                                    <option *ngFor="let skill of skillList" value={{skill.id}}>{{skill.name}}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Designation</label>
                                                <select class="form-control" [(ngModel)]="reportDesignation" (change)="changedDesignation()" multiple>
                                                    <optgroup *ngFor = 'let dept of designationList' label="{{dept.department}}">
                                                        <option *ngFor = 'let desig of dept.designation' [value]="desig.id">{{desig.name}}</option> 
                                                    </optgroup>
                                                    
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-4 col-md-3">
                                                <label class="field-label">Current Deployment</label>
                                                <select class="form-control" [(ngModel)]="reportDeployment" (change)="changedDeployment()" multiple>
                                                    <option value="Y">Yes</option>
                                                    <option value="N">No</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row mt-3">
                                            <div class="col-12 text-center">
                                                <button type="button" class="btn btn-primary" [disabled]="reportButtonDisable ? 'disabled': null" (click)="getReport('Horizon3')">Generate</button>
                                            </div>
                                        </div>
                                        
                                        <!-- Report Chart for Horizon3 -->
                                        <div class="row mt-5">
                                            <div class="col-12">
                                                <fusioncharts
                                                width="100%"
                                                height="350"
                                                type="mscolumn2d"
                                                dataFormat="JSON"
                                                [dataSource]="horizon3ScoreChart"
                                                ></fusioncharts>
                                            </div>
                                        </div>
                                        <!-- Report Table -->
                                        <div class="row mt-5">
                                            <div class="col-12 mt-3 table-responsive">
                                                <table style="width:100%">
                                                    <thead>
                                                        <th style="white-space: unset;">Sl No.</th>
                                                        <th style="white-space: unset;">Employee Name</th>
                                                        <th style="white-space: unset;">Employee Id</th>
                                                        <th style="white-space: unset;">Delivery Manager</th>
                                                        <th style="white-space: unset;">Designation</th>
                                                        <th style="white-space: unset;">Evaluation Quarter</th>
                                                        <th style="white-space: unset;">Skill</th>
                                                        <th style="white-space: unset;">Rating</th>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let val of reportTable; let i = index">
                                                            <td> <span>{{i+1}}</span> </td>
                                                            <td> <span>{{val.Employee_Name}}</span> </td>
                                                            <td> <span>{{val.Employee_Id}}</span></td>
                                                            <td> <span>{{val.reporting_manager}}</span></td>
                                                            <td> <span>{{val.Designation_Name}}</span></td>
                                                            <td> <span>{{val.evaluation_qtr}}</span></td>
                                                            <td> <span>{{val.s_name}}</span></td>
                                                            <ng-container [ngSwitch]="val.skill_score">
                                                                <td *ngSwitchCase="1"> <span>Beginner</span></td>
                                                                <td *ngSwitchCase="2"> <span>Intermediate</span></td>
                                                                <td *ngSwitchCase="3"> <span>Advanced</span></td>
                                                            </ng-container>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>                                        
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                </ngb-tab>
                <!-- HORIZON3 REPORT TAB END -->
                <!-- SETTING TAB START -->
                <ngb-tab *ngIf="role==4">
                    <ng-template ngbTabTitle> <span (click)="prepareSettingTab()">Settings</span> </ng-template> 
                    <ng-template ngbTabContent>
                        <div class="nav-link-column" >
                            <div class="nav-link-actions">
                                <div class="nav-link-box">
                                    <div class="row">
                                        <div class="col-6 col-sm-3 col-md-2">
                                            <label class="field-label">Present Date:</label><br>
                                            <label class="field-label">Last Update Date:</label><br>
                                            <label class="field-label">Last Updated By:</label><br>
                                            <label class="field-label mb-2">Matrix Score Weight:</label><br>
                                            <label class="field-label mb-2">Recency Score Weight:</label><br>
                                            <label class="field-label">Experience Score Weight:</label>
                                        </div>
                                        <div class="col-6 col-sm-3 col-md-2">
                                            <label class="field-label">{{presentDate}}</label><br>
                                            <label class="field-label">{{lastUpdatedDate}}</label><br>
                                            <label class="field-label">{{lastUpdatedBy}}</label><br>
                                            <input type="number" class="form-control" min="0.00" max="1" step="0.10" [(ngModel)]="matrixScoreWeight" (change)="validateWeight()" (keyup)="validateWeight()">
                                            <input type="number" class="form-control" min="0.00" max="1" step="0.10" [(ngModel)]="recencyScoreWeight" (change)="validateWeight()" (keyup)="validateWeight()">
                                            <input type="number" class="form-control" min="0.00" max="1" step="0.10" [(ngModel)]="experienceScoreWeight" (change)="validateWeight()" (keyup)="validateWeight()">
                                        </div>
                                        <div class="col-12 mt-3">
                                            <small style="color:blue"><b>The sum of all scores weight should be equal to 1</b></small><br>
                                            <button type="button" class="btn btn-success" [disabled]="buttondisabled ? 'disabled': null" (click)="updateScoreWeight()">Update</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </ngb-tab>
                <!-- SETTING TAB END -->
            </ngb-tabset>
        </div>
    </div>
</div>